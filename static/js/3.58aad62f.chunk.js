(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[3],{258:function(e,t,a){e.exports={profile__content:"Profile_profile__content__23Xr3",infoWrapper:"Profile_infoWrapper__VbTh7",userContacts:"Profile_userContacts__t_4WV",userAvaAndStatus:"Profile_userAvaAndStatus__3FbIZ",userAvaWrap:"Profile_userAvaWrap__NJqr4",userAva:"Profile_userAva__mqhUE",changeInfo:"Profile_changeInfo__2rKMq",changePhoto:"Profile_changePhoto__3j9Vd",ProfileDataForm:"Profile_ProfileDataForm__IiOiu",statusTextarea:"Profile_statusTextarea__1IpvX",ProfileDataFormTextarea:"Profile_ProfileDataFormTextarea__3lfsP",ProfileDataFormHead:"Profile_ProfileDataFormHead__eHG_h",ProfileDataFormInput:"Profile_ProfileDataFormInput__1a-pq",aboutUser:"Profile_aboutUser__3mEUW",aboutUserContactsTitle:"Profile_aboutUserContactsTitle__20Jl-",status:"Profile_status__3cJsh",right:"Profile_right__1UFVW",error:"Profile_error__2oVei",wrongData:"Profile_wrongData__36HHh"}},259:function(e,t,a){e.exports={addPost:"MyPosts_addPost__2aGMO",addNP:"MyPosts_addNP__1XqEa",newPost:"MyPosts_newPost__2z_uy",textarea:"MyPosts_textarea__J-kFR",addPostBtn:"MyPosts_addPostBtn__10c3_"}},260:function(e,t,a){e.exports={item:"Post_item__3sC9V",item__imgAndText:"Post_item__imgAndText__zBgHD",item__img:"Post_item__img__2mrai",item__msg:"Post_item__msg__3Kp2m",likedSymbol:"Post_likedSymbol__X_12B",notLikedSymbol:"Post_notLikedSymbol__1jT_x",item__likes:"Post_item__likes__18qOt"}},263:function(e,t,a){"use strict";a.r(t);var s=a(2),o=a(6),i=a(7),r=a(16),n=a(17),c=a(0),l=a.n(c),u=a(258),d=a.n(u),j=a(259),b=a.n(j),p=a(260),h=a.n(p),f=a(1),m=function(e){return Object(f.jsxs)("div",{className:h.a.item,children:[Object(f.jsxs)("div",{className:h.a.item__imgAndText,children:[Object(f.jsx)("img",{className:h.a.item__img,src:e.ava}),Object(f.jsx)("div",{className:h.a.item__msg,children:e.message})]}),Object(f.jsx)("div",{className:h.a.item__likes,children:Object(f.jsxs)("span",{className:e.isLiked?h.a.likedSymbol:h.a.notLikedSymbol,onClick:function(t){var a=t.target.id;e.addLike(+a)},id:"".concat(e.id),children:["\u2665 ",e.likes?e.likes:"like"]})})]})},_=a(41),x=function(e){var t=e.profilePage.posts,a=e.profilePage.profile,s=function(e){return Object(f.jsx)(m,{message:e.message,likes:e.likes,ava:e.ava,isLiked:e.isLiked,addLike:e.addLike,id:e.id},e.id)},o=t.map((function(t){return Object(f.jsx)(s,{message:t.msg,likes:t.likes,ava:a.photos.small,id:t.id,isLiked:t.likedByMe,addLike:e.addLike},t.id)})),i=l.a.createRef(),r=function(){var t=i.current;t&&e.addPost(t.value)},n=function(){return Object(f.jsx)(_.b,{initialValues:{postText:""},onSubmit:function(e,t){t.setSubmitting,t.resetForm;console.log("submit")},children:function(e){var t=e.values,a=(e.errors,e.touched,e.handleChange),s=e.handleBlur;e.handleSubmit,e.isSubmitting;return Object(f.jsxs)("form",{className:b.a.addPost,children:[Object(f.jsx)("textarea",{name:"postText",id:"postText",placeholder:"write some text",onChange:a,onBlur:s,value:t.postText,className:b.a.textarea,ref:i}),Object(f.jsx)("button",{className:b.a.addPostBtn,disabled:""==t.postText||!t.postText.match(/\S/g),onClick:r,children:"Add Post"})]})}})};return Object(f.jsxs)("div",{className:b.a.content,children:[Object(f.jsxs)("div",{children:[Object(f.jsx)("div",{className:b.a.addNP,children:"add new post"}),Object(f.jsx)(n,{})]}),Object(f.jsxs)("div",{className:b.a.posts,children:[Object(f.jsx)("h3",{className:b.a.newPost,children:"My posts"}),o]})]})},O=a(80),P=a(5),v=Object(P.b)((function(e){return{profilePage:e.profilePage}}),{addPost:O.b,addLike:O.a})(x),g=a(45),k=a(50),N=function(e){var t=Object(c.useState)(!1),a=Object(k.a)(t,2),s=a[0],o=a[1],i=Object(c.useState)(e.status),r=Object(k.a)(i,2),n=r[0],l=r[1];Object(c.useEffect)((function(){l(e.status)}),[e.status]);return Object(f.jsxs)("div",{className:d.a.status,children:[!s&&Object(f.jsx)("div",{children:Object(f.jsx)("span",{onDoubleClick:function(){o(!0)},children:e.status||"no status"})}),s&&Object(f.jsx)("div",{children:Object(f.jsx)("textarea",{className:d.a.statusTextarea,autoFocus:!0,onChange:function(e){l(e.currentTarget.value)},onBlur:function(){o(!1),e.updateStatus(n)},value:n,maxLength:80})})]})},F=a(90),S=function(e){var t=e.profile,a=e.saveProfile,s=e.deactivateEditMode;return Object(f.jsx)(_.b,{initialValues:{userId:t.userId,photos:t.photos,aboutMe:t.aboutMe,fullName:t.fullName,lookingForAJobDescription:t.lookingForAJobDescription,lookingForAJob:t.lookingForAJob,contacts:t.contacts},onSubmit:function(e,t){var o=t.setSubmitting;t.resetForm;o(!0),a(e),s(),o(!1)},children:function(e){var a=e.values,s=(e.errors,e.touched,e.dirty,e.handleChange),o=e.handleBlur,i=e.handleSubmit;e.isSubmitting;return Object(f.jsxs)("form",{onSubmit:i,className:d.a.ProfileDataForm,children:[Object(f.jsx)("div",{children:Object(f.jsx)("textarea",{className:d.a.ProfileDataFormTextarea,name:"aboutMe",id:"aboutMe",placeholder:"write some info about you",onChange:s,onBlur:o,value:a.aboutMe})}),Object(f.jsx)("div",{children:Object(f.jsx)("textarea",{className:d.a.ProfileDataFormTextarea,name:"fullName",id:"fullName",placeholder:"enter you name and surname",onChange:s,onBlur:o,value:a.fullName})}),Object(f.jsx)("div",{children:Object(f.jsx)("textarea",{className:d.a.ProfileDataFormTextarea,name:"lookingForAJobDescription",id:"lookingForAJobDescription",placeholder:"discribe your skills",onChange:s,onBlur:o,value:a.lookingForAJobDescription})}),Object(f.jsx)("input",{type:"checkbox",name:"lookingForAJob",id:"lookingForAJob",onChange:s,checked:a.lookingForAJob})," looking for a job",Object(f.jsx)("p",{className:d.a.ProfileDataFormHead,children:Object(f.jsx)("b",{children:"CONTACTS:"})}),Object.keys(t.contacts).map((function(e){return Object(f.jsxs)("div",{children:[Object(f.jsxs)("span",{children:[e,":"]}),Object(f.jsx)("input",{type:"url",className:d.a.ProfileDataFormInput,name:"contacts."+e,id:"contacts."+e,onChange:s,onBlur:o,value:a.contacts[e]})]},e)})),Object(f.jsx)("button",{className:d.a.changeInfo,type:"submit",children:"Save"})]})}})},y=function(e){var t=Object(c.useState)(!1),a=Object(k.a)(t,2),s=a[0],o=a[1],i=function(e){return Object(f.jsxs)("div",{children:[Object(f.jsx)("b",{children:Object(f.jsxs)("i",{children:[e.contactTitle,":"]})})," ",e.contactValue]})},r=Object.entries(e.profile.contacts).map((function(e){var t=Object(k.a)(e,2),a=t[0],s=t[1];return Object(f.jsx)(i,{contactTitle:a,contactValue:s},a)})),n=function(e){return Object(f.jsxs)("div",{className:d.a.aboutUser,children:[Object(f.jsxs)("div",{children:[Object(f.jsx)("b",{children:"about user:"})," ",e.profile.aboutMe]}),Object(f.jsxs)("div",{children:[Object(f.jsx)("b",{children:"full name:"})," ",e.profile.fullName]}),Object(f.jsxs)("div",{children:[Object(f.jsx)("b",{children:"skills:"})," ",e.profile.lookingForAJobDescription]}),Object(f.jsxs)("div",{children:[Object(f.jsx)("b",{children:"looking for a job:"})," ",e.profile.lookingForAJob?"yes":"no"]}),Object(f.jsx)("p",{className:d.a.aboutUserContactsTitle,children:Object(f.jsx)("b",{children:"CONTACTS:"})}),r,e.isOwner&&Object(f.jsx)("button",{className:d.a.changeInfo,onClick:e.activateEditMode,children:"edit"})]})};return Object(f.jsxs)("div",{className:d.a.infoWrapper,children:[Object(f.jsxs)("div",{className:d.a.userAvaAndStatus,children:[Object(f.jsx)("div",{className:d.a.userAvaWrap,children:Object(f.jsx)("img",{className:d.a.userAva,src:e.profile.photos.large?e.profile.photos.large:F.a})}),e.isOwner&&Object(f.jsx)("div",{children:Object(f.jsxs)("label",{className:d.a.changePhoto,htmlFor:"inputFile",children:[Object(f.jsx)("span",{children:"change photo"}),Object(f.jsx)("input",{type:"file",onChange:function(t){t.target.files&&e.savePhoto(t.target.files[0])},id:"inputFile"})]})}),Object(f.jsx)(N,{status:e.status,updateStatus:e.updateStatus})]}),Object(f.jsx)("div",{className:d.a.userContacts,children:s?Object(f.jsx)(S,{profile:e.profile,saveProfile:e.saveProfile,deactivateEditMode:function(){o(!1)}}):Object(f.jsx)(n,{profile:e.profile,isOwner:e.isOwner,activateEditMode:function(){o(!0)}})})]})},A=function(e){return e.profile?Object(f.jsxs)("div",{className:d.a.profile__content,children:[Object(f.jsx)(y,{profile:e.profile,isOwner:e.isOwner,savePhoto:e.savePhoto,status:e.status,updateStatus:e.updateStatus,saveProfile:e.saveProfile}),e.isOwner&&Object(f.jsx)(v,{})]}):Object(f.jsx)(g.a,{})},T=a(10),C=a(34),D=function(e){Object(r.a)(a,e);var t=Object(n.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"renderProfile",value:function(){var e=+this.props.match.params.userId;e||(e=this.props.authorizedUserId)||this.props.history.push("/login"),this.props.getUserAccountById(e),this.props.getStatus(e)}},{key:"componentDidMount",value:function(){this.renderProfile()}},{key:"componentDidUpdate",value:function(e){this.props.match.params.userId!=e.match.params.userId&&this.renderProfile()}},{key:"render",value:function(){return Object(f.jsx)(A,Object(s.a)(Object(s.a)({},this.props),{},{profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus,isOwner:!this.props.match.params.userId,savePhoto:this.props.savePhoto,saveProfile:this.props.saveProfile}))}}]),a}(c.PureComponent);t.default=Object(C.d)(Object(P.b)((function(e){return{profile:e.profilePage.profile,status:e.profilePage.status,authorizedUserId:e.auth.userId,isAuth:e.auth.isAuth}}),{getUserAccountById:O.e,getStatus:O.d,updateStatus:O.h,savePhoto:O.f,saveProfile:O.g}),T.h)(D)}}]);
//# sourceMappingURL=3.58aad62f.chunk.js.map