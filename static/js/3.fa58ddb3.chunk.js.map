{"version":3,"sources":["components/Profile/Profile.module.css","components/Profile/MyPosts/MyPosts.module.css","components/Profile/MyPosts/Post/Post.module.css","components/Profile/MyPosts/Post/Post.jsx","components/Profile/MyPosts/MyPosts.jsx","components/Profile/MyPosts/MyPostsContainer.jsx","components/Profile/ProfileStatusWithHooks.jsx","components/Profile/ProfileDataForm.jsx","components/Profile/ProfileInfo.jsx","components/Profile/Profile.jsx","components/Profile/ProfileContainer.jsx"],"names":["module","exports","Post","props","className","classes","item","item__imgAndText","item__img","src","ava","item__msg","message","item__likes","isLiked","likedSymbol","notLikedSymbol","onClick","e","PostId","target","id","addLike","likes","MyPosts","posts","profilePage","profile","PostItem","likesBlock","postsElements","map","post","msg","photos","small","likedByMe","newPost","React","createRef","onAddPost","postText","current","value","addPost","PostForm","initialValues","values","handleChange","errors","touched","handleBlur","handleSubmit","isSubmitting","name","placeholder","onChange","onBlur","textarea","ref","addPostBtn","disabled","match","content","addNP","MyPostsContainer","connect","state","dispatch","action","addPostActionCreator","likedPostId","addLikeAC","ProfileStatusWithHooks","useState","editMode","setEditMode","status","setStatus","useEffect","onDoubleClick","statusTextarea","autoFocus","currentTarget","updateStatus","maxlength","ProfileDataForm","saveProfile","deactivateEditMode","aboutMe","fullName","lookingForAJobDescription","lookingForAJob","contacts","onSubmit","setSubmitting","resetForm","dirty","ProfileDataFormTextarea","type","checked","ProfileDataFormHead","Object","keys","key","ProfileDataFormInput","changeInfo","ProfileInfo","Contact","contactTitle","contactValue","Contacts","ProfileData","aboutUser","aboutUserContactsTitle","isOwner","activateEditMode","infoWrapper","userAvaAndStatus","userAvaWrap","userAva","large","MishaAva","changePhoto","htmlFor","files","length","savePhoto","userContacts","Profile","profile__content","store","Preloader","ProfileContainer","userId","this","params","authorizedUserId","history","push","getUserAccountById","getStatus","renderProfile","prevProps","prevState","snapshot","PureComponent","compose","auth","isAuth","withRouter"],"mappings":"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","file":"static/js/3.fa58ddb3.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"profile__content\":\"Profile_profile__content__23Xr3\",\"infoWrapper\":\"Profile_infoWrapper__VbTh7\",\"userContacts\":\"Profile_userContacts__t_4WV\",\"userAvaAndStatus\":\"Profile_userAvaAndStatus__3FbIZ\",\"userAvaWrap\":\"Profile_userAvaWrap__NJqr4\",\"userAva\":\"Profile_userAva__mqhUE\",\"changeInfo\":\"Profile_changeInfo__2rKMq\",\"changePhoto\":\"Profile_changePhoto__3j9Vd\",\"ProfileDataForm\":\"Profile_ProfileDataForm__IiOiu\",\"statusTextarea\":\"Profile_statusTextarea__1IpvX\",\"ProfileDataFormTextarea\":\"Profile_ProfileDataFormTextarea__3lfsP\",\"ProfileDataFormHead\":\"Profile_ProfileDataFormHead__eHG_h\",\"ProfileDataFormInput\":\"Profile_ProfileDataFormInput__1a-pq\",\"aboutUser\":\"Profile_aboutUser__3mEUW\",\"aboutUserContactsTitle\":\"Profile_aboutUserContactsTitle__20Jl-\",\"status\":\"Profile_status__3cJsh\",\"right\":\"Profile_right__1UFVW\",\"error\":\"Profile_error__2oVei\",\"wrongData\":\"Profile_wrongData__36HHh\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"addPost\":\"MyPosts_addPost__2aGMO\",\"addNP\":\"MyPosts_addNP__1XqEa\",\"newPost\":\"MyPosts_newPost__2z_uy\",\"textarea\":\"MyPosts_textarea__J-kFR\",\"addPostBtn\":\"MyPosts_addPostBtn__10c3_\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"Post_item__3sC9V\",\"item__imgAndText\":\"Post_item__imgAndText__zBgHD\",\"item__img\":\"Post_item__img__2mrai\",\"item__msg\":\"Post_item__msg__3Kp2m\",\"likedSymbol\":\"Post_likedSymbol__X_12B\",\"notLikedSymbol\":\"Post_notLikedSymbol__1jT_x\",\"item__likes\":\"Post_item__likes__18qOt\"};","import React from 'react';\r\nimport classes from './Post.module.css';\r\n\r\nconst Post = (props) => {\r\n\t\r\n\tlet onLikePush = (e) => {\r\n\t\tlet PostId = e.target.id;\r\n\t\tprops.addLike(PostId);\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div className={classes.item}>\r\n\t\t\t<div className={classes.item__imgAndText}>\r\n\t\t\t\t<img className={classes.item__img} src={props.ava} />\r\n\t\t\t\t<div className={classes.item__msg}>\r\n\t\t\t\t\t{props.message}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div className={classes.item__likes}>\r\n\t\t\t\t<span\r\n\t\t\t\t\tclassName={props.isLiked ? classes.likedSymbol : classes.notLikedSymbol}\r\n\t\t\t\t\tonClick={onLikePush} id={props.id}\r\n\t\t\t\t>\r\n\t\t\t\t\t&#9829; {props.likes}\r\n\t\t\t\t</span>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default Post;","import React from 'react';\r\nimport classes from './MyPosts.module.css';\r\nimport Post from './Post/Post';\r\nimport { Formik } from 'formik';\r\n\r\n\r\nconst MyPosts = (props) => {\r\n\t\r\n\tlet posts = props.profilePage.posts;\r\n\tlet profile = props.profilePage.profile;\r\n\r\n\tconst PostItem = (props) => {\r\n\t\tlet likesBlock = props.likes ? props.likes : 'like';\r\n\r\n\t\treturn (\r\n\t\t\t<Post\r\n\t\t\t\tmessage={props.message} likes={likesBlock} ava={props.ava}\r\n\t\t\t\tisLiked={props.isLiked} addLike={props.addLike} id={props.id}\r\n\t\t\t/>\r\n\t\t)\r\n\t}\r\n\r\n\r\n\tlet postsElements = posts\r\n\t\t.map((post) => <PostItem\r\n\t\t\tmessage={post.msg} likes={post.likes} ava={profile.photos.small}\r\n\t\t\tkey={post.id} id={post.id} isLiked={post.likedByMe} addLike={props.addLike}\r\n\t\t/>)\r\n\r\n\t\t\r\n\tlet newPost = React.createRef();\r\n\t\r\n\tlet onAddPost = () => {\r\n\t\tlet postText = newPost.current.value;\r\n\t\tprops.addPost(postText);\r\n\t}\r\n\r\n\r\n\tconst PostForm = (props) => {\r\n\t\treturn (\r\n\t\t\t<Formik\r\n\t\t\t\tinitialValues={{ postText: '' }}\r\n\t\t\t>\r\n\t\t\t\t{({\r\n\t\t\t\t\tvalues,\r\n\t\t\t\t\terrors,\r\n\t\t\t\t\ttouched,\r\n\t\t\t\t\thandleChange,\r\n\t\t\t\t\thandleBlur,\r\n\t\t\t\t\thandleSubmit,\r\n\t\t\t\t\tisSubmitting\r\n\t\t\t\t}) => (\r\n\t\t\t\t\t<form className={classes.addPost}>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<textarea\r\n\t\t\t\t\t\t\tname={'postText'}\r\n\t\t\t\t\t\t\tid={'postText'}\r\n\t\t\t\t\t\t\tplaceholder={\"write some text\"}\r\n\t\t\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t\t\t\tonBlur={handleBlur}\r\n\t\t\t\t\t\t\tvalue={values.postText}\r\n\t\t\t\t\t\t\t// className={touched.name && errors.name ? classes.test : null}\r\n\t\t\t\t\t\t\tclassName={classes.textarea}\r\n\t\t\t\t\t\t\tref={newPost}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<button className={classes.addPostBtn}\r\n\t\t\t\t\t\t\tdisabled={values.postText == '' || !(values.postText).match(/\\S/g)}\r\n\t\t\t\t\t\t\tonClick={onAddPost}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tAdd Post\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</form>\r\n\t\t\t\t)}\r\n\t\t\t\r\n\t\t\t</Formik>\r\n\t\t)\r\n\t}\r\n\r\n\r\n\r\n\treturn (\r\n\t\t<div className={classes.content}>\r\n\t\t\t<div>\r\n\t\t\t\t<div className={classes.addNP}>add new post</div>\r\n\t\t\t\t<PostForm/>\r\n\t\t\t</div>\r\n\t\t\t<div className={classes.posts}>\r\n\t\t\t\t<h3 className={classes.newPost}>My posts</h3>\r\n\t\t\t\t{postsElements}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default MyPosts;","import React from 'react';\r\nimport MyPosts from './MyPosts';\r\nimport { addPostActionCreator, addLikeAC } from '../../../redux/profile-reducer';\r\nimport { connect } from 'react-redux';\r\n\r\n\r\nlet mapStateToProps = (state) => {\r\n\treturn {\r\n\t\tprofilePage: state.profilePage,\r\n\r\n\t}\r\n}\r\n\r\nlet mapDispatchToProps = (dispatch) => {\r\n\treturn {\r\n\t\taddPost: (postText) => {\r\n\t\t\tlet action = addPostActionCreator(postText);\r\n\t\t\tdispatch(action)\r\n\t\t},\r\n\t\taddLike: (likedPostId) => {\r\n\t\t\tdispatch(addLikeAC(likedPostId))\r\n\t\t}\r\n\t}\r\n}\r\n\r\nconst MyPostsContainer = connect(mapStateToProps, mapDispatchToProps)(MyPosts);\r\n\r\n\r\nexport default MyPostsContainer;","import React, {useState, useEffect} from 'react';\r\nimport classes from './Profile.module.css';\r\n\r\nconst ProfileStatusWithHooks = (props) => {\r\n\r\n\tlet [editMode, setEditMode] = useState(false);\r\n\tlet [status, setStatus] = useState(props.status);\r\n\r\n\tuseEffect(() => {\r\n\t\tsetStatus(props.status)\r\n\t}, [props.status])\r\n\r\n\tconst activateEditMode = () => {\r\n\t\tsetEditMode(true);\r\n\t}\r\n\r\n\tconst deactivateEditMode = () => {\r\n\t\tsetEditMode(false);\r\n\t\tprops.updateStatus(status);\r\n\t}\r\n\r\n\tconst onStatusChange = (e) => {\r\n\t\tsetStatus(e.currentTarget.value)\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div className={classes.status}>\r\n\t\t\t{!editMode && \r\n\t\t\t\t<div>\r\n\t\t\t\t\t<span onDoubleClick={activateEditMode}>\r\n\t\t\t\t\t\t{props.status || 'no status'}\r\n\t\t\t\t\t</span>\r\n\t\t\t\t</div>\r\n\t\t\t}\r\n\t\t\t{editMode &&\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<textarea\r\n\t\t\t\t\t\tclassName={classes.statusTextarea} autoFocus={true} onChange={onStatusChange}\r\n\t\t\t\t\t\tonBlur={deactivateEditMode} value={status} maxlength={80}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t}\r\n\t\t</div>\r\n\t)\r\n} \r\n\r\n\r\nexport default ProfileStatusWithHooks;","import React, { useState, useEffect } from 'react';\r\nimport { Formik } from 'formik';\r\nimport classes from './Profile.module.css';\r\n\r\n\r\nconst ProfileDataForm = ({ profile, saveProfile, deactivateEditMode }) => {\r\n\r\n\treturn (\r\n\t\t<Formik\r\n\t\t\tinitialValues={{\r\n\t\t\t\taboutMe: profile.aboutMe,\r\n\t\t\t\tfullName: profile.fullName,\r\n\t\t\t\tlookingForAJobDescription: profile.lookingForAJobDescription,\r\n\t\t\t\tlookingForAJob: profile.lookingForAJob,\r\n\t\t\t\tcontacts: profile.contacts\r\n\t\t\t}}\r\n\t\t\tonSubmit={(values, { setSubmitting, resetForm }) => {\r\n\t\t\t\tsetSubmitting(true);\r\n\t\t\t\tsaveProfile(values);\r\n\t\t\t\tdeactivateEditMode();\r\n\t\t\t\tsetSubmitting(false);\r\n\t\t\t}}\r\n\t\t>\r\n\t\t\t{({\r\n\t\t\t\tvalues,\r\n\t\t\t\terrors,\r\n\t\t\t\ttouched,\r\n\t\t\t\tdirty,\r\n\t\t\t\thandleChange,\r\n\t\t\t\thandleBlur,\r\n\t\t\t\thandleSubmit,\r\n\t\t\t\tisSubmitting\r\n\t\t\t}) => (\r\n\t\t\t\t<form onSubmit={handleSubmit} className={classes.ProfileDataForm}>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<textarea className={classes.ProfileDataFormTextarea}\r\n\t\t\t\t\t\t\tname={'aboutMe'} id={'aboutMe'} placeholder={\"write some info about you\"}\r\n\t\t\t\t\t\t\tonChange={handleChange} onBlur={handleBlur} value={values.aboutMe}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<textarea className={classes.ProfileDataFormTextarea}\r\n\t\t\t\t\t\t\tname={'fullName'} id={'fullName'} placeholder={\"enter you name and surname\"}\r\n\t\t\t\t\t\t\tonChange={handleChange} onBlur={handleBlur} value={values.fullName}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<textarea className={classes.ProfileDataFormTextarea}\r\n\t\t\t\t\t\t\tname={'lookingForAJobDescription'} id={'lookingForAJobDescription'} placeholder={\"discribe your skills\"}\r\n\t\t\t\t\t\t\tonChange={handleChange} onBlur={handleBlur} value={values.lookingForAJobDescription}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\ttype={\"checkbox\"} name={'lookingForAJob'} id={'lookingForAJob'}\r\n\t\t\t\t\t\tonChange={handleChange} checked={values.lookingForAJob}\r\n\t\t\t\t\t/> looking for a job\r\n\r\n\t\t\t\t\t<p className={classes.ProfileDataFormHead}><b>CONTACTS:</b></p>\r\n\r\n\t\t\t\t\t{Object.keys(profile.contacts).map(key => {\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<div key={key}>\r\n\t\t\t\t\t\t\t\t<span>{key}:</span>\r\n\t\t\t\t\t\t\t\t<input type={'url'} className={classes.ProfileDataFormInput}\r\n\t\t\t\t\t\t\t\t\tname={'contacts.' + key} id={'contacts.' + key}\r\n\t\t\t\t\t\t\t\t\tonChange={handleChange} onBlur={handleBlur} value={values.contacts[key]}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t})}\r\n\r\n\t\t\t\t\t<button className={classes.changeInfo} type={'submit'}>Save</button>\r\n\r\n\t\t\t\t</form>\r\n\t\t\t)}\r\n\t\t</Formik>\r\n\t)\r\n}\r\n\r\nexport default ProfileDataForm;","import React, {useState, useEffect} from 'react';\r\nimport classes from './Profile.module.css';\r\nimport ProfileStatusWithHooks from './ProfileStatusWithHooks';\r\nimport MishaAva from '../Users/img/MishaAva.jpg';\r\nimport ProfileDataForm from './ProfileDataForm';\r\n\r\n\r\nconst ProfileInfo = (props) => {\r\n\r\n\tconst onMainPhotoSelected = (e) => {\r\n\t\tif (e.target.files.length) {\r\n\t\t\tprops.savePhoto(e.target.files[0]);\r\n\t\t}\r\n\t}\r\n\r\n\tlet [editMode, setEditMode] = useState(false);\r\n\r\n\tconst activateEditMode = () => {\r\n\t\tsetEditMode(true);\r\n\t}\r\n\r\n\tconst deactivateEditMode = () => {\r\n\t\tsetEditMode(false);\r\n\t}\r\n\r\n\t// let [inputFileInnerText, changeInputFileInnerText] = useState('Change photo');\r\n\t// let fileName = React.createRef();\r\n\t// let onFileChange = (e) => {\r\n\t// \tconsole.log(fileName.current.value);\r\n\t// }\r\n\t\r\n\tconst Contact = ({contactTitle, contactValue}) => {\r\n\t\treturn <div><b><i>{contactTitle}:</i></b> {contactValue}</div>\r\n\t}\r\n\r\n\tconst Contacts = Object.keys(props.profile.contacts).map(key => {\r\n\t\treturn <Contact key={key} contactTitle={key} contactValue={props.profile.contacts[key]}/>\r\n\t})\r\n\r\n\tconst ProfileData = (props) => {\r\n\t\treturn (\r\n\t\t\t<div className={classes.aboutUser}>\r\n\t\t\t\t<div><b>about user:</b> {props.profile.aboutMe}</div>\r\n\t\t\t\t<div><b>full name:</b> {props.profile.fullName}</div>\r\n\t\t\t\t<div><b>skills:</b> {props.profile.lookingForAJobDescription}</div>\r\n\t\t\t\t<div><b>looking for a job:</b> {props.profile.lookingForAJob? 'yes' : 'no'}</div>\r\n\t\t\t\t<p className={classes.aboutUserContactsTitle}><b>CONTACTS:</b></p>\r\n\t\t\t\t{Contacts}\r\n\t\t\t\t{props.isOwner && <button className={classes.changeInfo} onClick={props.activateEditMode}>edit</button>}\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n\t\t\r\n\r\n\treturn (\r\n\t\t<div className={classes.infoWrapper}>\r\n\t\t\t<div className={classes.userAvaAndStatus}>\r\n\t\t\t\t<div className={classes.userAvaWrap}>\r\n\t\t\t\t\t<img className={classes.userAva} src={props.profile.photos.large ? props.profile.photos.large : MishaAva} />\r\n\t\t\t\t</div>\r\n\t\t\t\t{\r\n\t\t\t\t\tprops.isOwner &&\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<label className={classes.changePhoto} htmlFor={'inputFile'}>\r\n\t\t\t\t\t\t\t<span>change photo</span>\r\n\t\t\t\t\t\t\t<input type={'file'} onChange={onMainPhotoSelected} id={'inputFile'}/>\r\n\t\t\t\t\t\t</label>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t}\r\n\t\t\t\t\t<ProfileStatusWithHooks status={props.status} updateStatus={props.updateStatus} />\r\n\t\t\t</div>\r\n\t\t\t<div className={classes.userContacts}>\r\n\t\t\t\t{editMode\r\n\t\t\t\t\t? <ProfileDataForm profile={props.profile} saveProfile={props.saveProfile} deactivateEditMode={deactivateEditMode}/>\r\n\t\t\t\t\t: <ProfileData profile={props.profile} isOwner={props.isOwner} activateEditMode={activateEditMode} />\r\n\t\t\t\t}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default ProfileInfo;","import React, {useState, useEffect} from 'react';\r\nimport classes from './Profile.module.css';\r\nimport MyPostsContainer from './MyPosts/MyPostsContainer';\r\nimport Preloader from '../common/Preloader';\r\nimport ProfileInfo from './ProfileInfo';\r\n\r\n\r\nconst Profile = (props) => {\r\n\t// debugger\r\n\tif (!props.profile) return <Preloader />\r\n\r\n\r\n\treturn (\r\n\t\t<div className={classes.profile__content}>\r\n\t\t\t<ProfileInfo\r\n\t\t\t\tprofile={props.profile} isOwner={props.isOwner} savePhoto={props.savePhoto}\r\n\t\t\t\tstatus={props.status} updateStatus={props.updateStatus} saveProfile={props.saveProfile}\r\n\t\t\t/>\r\n\t\t\t{props.isOwner && <MyPostsContainer store={props.store}/>}\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default Profile;","import React, {PureComponent} from 'react';\r\nimport Profile from './Profile';\r\nimport { connect } from 'react-redux';\r\nimport {\r\n\tsetUserProfile, getUserAccountById, getStatus, updateStatus, savePhoto, saveProfile\r\n} from '../../redux/profile-reducer';\r\nimport { withRouter, Redirect } from 'react-router-dom';\r\nimport { compose } from 'redux';\r\n\r\n\r\nclass ProfileContainer extends PureComponent {\r\n\r\n\trenderProfile() {\r\n\t\t\tlet userId = this.props.match.params.userId;\r\n\t\t\tif (!userId) {\r\n\t\t\t\tuserId = this.props.authorizedUserId;\r\n\t\t\t\tif (!userId) this.props.history.push('/login')\r\n\t\t\t}\r\n\t\t\tthis.props.getUserAccountById(userId)\r\n\t\t\tthis.props.getStatus(userId);\r\n\t}\r\n\t\r\n\tcomponentDidMount() {\r\n\t\tthis.renderProfile();\r\n\t}\r\n\r\n\tcomponentDidUpdate(prevProps, prevState, snapshot) {\r\n\t\tif (this.props.match.params.userId != prevProps.match.params.userId) {\r\n\t\t\t// console.log(this.props.match.params)\r\n\t\t\tthis.renderProfile();\r\n\t\t}\r\n\t}\r\n\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<Profile\r\n\t\t\t\t{...this.props}\r\n\t\t\t\tprofile={this.props.profile}\r\n\t\t\t\tstatus={this.props.status}\r\n\t\t\t\tupdateStatus={this.props.updateStatus}\r\n\t\t\t\tisOwner={!this.props.match.params.userId}\r\n\t\t\t\tsavePhoto={this.props.savePhoto}\r\n\t\t\t\tsaveProfile={this.props.saveProfile}\r\n\t\t\t/>\r\n\t\t)\r\n\t}\r\n\t\r\n}\r\n\r\nlet mapStatetoProps = (state) => ({\r\n\tprofile: state.profilePage.profile,\r\n\tstatus: state.profilePage.status,\r\n\tauthorizedUserId: state.auth.userId,\r\n\tisAuth: state.auth.isAuth\r\n})\r\n\r\nexport default compose(\r\n\tconnect(mapStatetoProps, { getUserAccountById, getStatus, updateStatus, savePhoto, saveProfile }),\r\n\twithRouter,\r\n\t// withAuthRedirect\r\n)(ProfileContainer)\r\n\r\n\r\n\r\n\r\n"],"sourceRoot":""}