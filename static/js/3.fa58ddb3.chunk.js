(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[3],{250:function(e,t,a){e.exports={profile__content:"Profile_profile__content__23Xr3",infoWrapper:"Profile_infoWrapper__VbTh7",userContacts:"Profile_userContacts__t_4WV",userAvaAndStatus:"Profile_userAvaAndStatus__3FbIZ",userAvaWrap:"Profile_userAvaWrap__NJqr4",userAva:"Profile_userAva__mqhUE",changeInfo:"Profile_changeInfo__2rKMq",changePhoto:"Profile_changePhoto__3j9Vd",ProfileDataForm:"Profile_ProfileDataForm__IiOiu",statusTextarea:"Profile_statusTextarea__1IpvX",ProfileDataFormTextarea:"Profile_ProfileDataFormTextarea__3lfsP",ProfileDataFormHead:"Profile_ProfileDataFormHead__eHG_h",ProfileDataFormInput:"Profile_ProfileDataFormInput__1a-pq",aboutUser:"Profile_aboutUser__3mEUW",aboutUserContactsTitle:"Profile_aboutUserContactsTitle__20Jl-",status:"Profile_status__3cJsh",right:"Profile_right__1UFVW",error:"Profile_error__2oVei",wrongData:"Profile_wrongData__36HHh"}},251:function(e,t,a){e.exports={addPost:"MyPosts_addPost__2aGMO",addNP:"MyPosts_addNP__1XqEa",newPost:"MyPosts_newPost__2z_uy",textarea:"MyPosts_textarea__J-kFR",addPostBtn:"MyPosts_addPostBtn__10c3_"}},252:function(e,t,a){e.exports={item:"Post_item__3sC9V",item__imgAndText:"Post_item__imgAndText__zBgHD",item__img:"Post_item__img__2mrai",item__msg:"Post_item__msg__3Kp2m",likedSymbol:"Post_likedSymbol__X_12B",notLikedSymbol:"Post_notLikedSymbol__1jT_x",item__likes:"Post_item__likes__18qOt"}},255:function(e,t,a){"use strict";a.r(t);var s=a(2),o=a(3),i=a(4),r=a(9),n=a(10),c=a(0),l=a.n(c),u=a(250),d=a.n(u),j=a(251),b=a.n(j),p=a(252),f=a.n(p),h=a(1),m=function(e){return Object(h.jsxs)("div",{className:f.a.item,children:[Object(h.jsxs)("div",{className:f.a.item__imgAndText,children:[Object(h.jsx)("img",{className:f.a.item__img,src:e.ava}),Object(h.jsx)("div",{className:f.a.item__msg,children:e.message})]}),Object(h.jsx)("div",{className:f.a.item__likes,children:Object(h.jsxs)("span",{className:e.isLiked?f.a.likedSymbol:f.a.notLikedSymbol,onClick:function(t){var a=t.target.id;e.addLike(a)},id:e.id,children:["\u2665 ",e.likes]})})]})},_=a(76),O=function(e){var t=e.profilePage.posts,a=e.profilePage.profile,s=function(e){var t=e.likes?e.likes:"like";return Object(h.jsx)(m,{message:e.message,likes:t,ava:e.ava,isLiked:e.isLiked,addLike:e.addLike,id:e.id})},o=t.map((function(t){return Object(h.jsx)(s,{message:t.msg,likes:t.likes,ava:a.photos.small,id:t.id,isLiked:t.likedByMe,addLike:e.addLike},t.id)})),i=l.a.createRef(),r=function(){var t=i.current.value;e.addPost(t)},n=function(e){return Object(h.jsx)(_.a,{initialValues:{postText:""},children:function(e){var t=e.values,a=(e.errors,e.touched,e.handleChange),s=e.handleBlur;e.handleSubmit,e.isSubmitting;return Object(h.jsxs)("form",{className:b.a.addPost,children:[Object(h.jsx)("textarea",{name:"postText",id:"postText",placeholder:"write some text",onChange:a,onBlur:s,value:t.postText,className:b.a.textarea,ref:i}),Object(h.jsx)("button",{className:b.a.addPostBtn,disabled:""==t.postText||!t.postText.match(/\S/g),onClick:r,children:"Add Post"})]})}})};return Object(h.jsxs)("div",{className:b.a.content,children:[Object(h.jsxs)("div",{children:[Object(h.jsx)("div",{className:b.a.addNP,children:"add new post"}),Object(h.jsx)(n,{})]}),Object(h.jsxs)("div",{className:b.a.posts,children:[Object(h.jsx)("h3",{className:b.a.newPost,children:"My posts"}),o]})]})},x=a(77),v=a(25),P=Object(v.b)((function(e){return{profilePage:e.profilePage}}),(function(e){return{addPost:function(t){var a=Object(x.b)(t);e(a)},addLike:function(t){e(Object(x.a)(t))}}}))(O),g=a(40),k=a(45),N=function(e){var t=Object(c.useState)(!1),a=Object(k.a)(t,2),s=a[0],o=a[1],i=Object(c.useState)(e.status),r=Object(k.a)(i,2),n=r[0],l=r[1];Object(c.useEffect)((function(){l(e.status)}),[e.status]);return Object(h.jsxs)("div",{className:d.a.status,children:[!s&&Object(h.jsx)("div",{children:Object(h.jsx)("span",{onDoubleClick:function(){o(!0)},children:e.status||"no status"})}),s&&Object(h.jsx)("div",{children:Object(h.jsx)("textarea",{className:d.a.statusTextarea,autoFocus:!0,onChange:function(e){l(e.currentTarget.value)},onBlur:function(){o(!1),e.updateStatus(n)},value:n,maxlength:80})})]})},y=a(86),A=function(e){var t=e.profile,a=e.saveProfile,s=e.deactivateEditMode;return Object(h.jsx)(_.a,{initialValues:{aboutMe:t.aboutMe,fullName:t.fullName,lookingForAJobDescription:t.lookingForAJobDescription,lookingForAJob:t.lookingForAJob,contacts:t.contacts},onSubmit:function(e,t){var o=t.setSubmitting;t.resetForm;o(!0),a(e),s(),o(!1)},children:function(e){var a=e.values,s=(e.errors,e.touched,e.dirty,e.handleChange),o=e.handleBlur,i=e.handleSubmit;e.isSubmitting;return Object(h.jsxs)("form",{onSubmit:i,className:d.a.ProfileDataForm,children:[Object(h.jsx)("div",{children:Object(h.jsx)("textarea",{className:d.a.ProfileDataFormTextarea,name:"aboutMe",id:"aboutMe",placeholder:"write some info about you",onChange:s,onBlur:o,value:a.aboutMe})}),Object(h.jsx)("div",{children:Object(h.jsx)("textarea",{className:d.a.ProfileDataFormTextarea,name:"fullName",id:"fullName",placeholder:"enter you name and surname",onChange:s,onBlur:o,value:a.fullName})}),Object(h.jsx)("div",{children:Object(h.jsx)("textarea",{className:d.a.ProfileDataFormTextarea,name:"lookingForAJobDescription",id:"lookingForAJobDescription",placeholder:"discribe your skills",onChange:s,onBlur:o,value:a.lookingForAJobDescription})}),Object(h.jsx)("input",{type:"checkbox",name:"lookingForAJob",id:"lookingForAJob",onChange:s,checked:a.lookingForAJob})," looking for a job",Object(h.jsx)("p",{className:d.a.ProfileDataFormHead,children:Object(h.jsx)("b",{children:"CONTACTS:"})}),Object.keys(t.contacts).map((function(e){return Object(h.jsxs)("div",{children:[Object(h.jsxs)("span",{children:[e,":"]}),Object(h.jsx)("input",{type:"url",className:d.a.ProfileDataFormInput,name:"contacts."+e,id:"contacts."+e,onChange:s,onBlur:o,value:a.contacts[e]})]},e)})),Object(h.jsx)("button",{className:d.a.changeInfo,type:"submit",children:"Save"})]})}})},F=function(e){var t=Object(c.useState)(!1),a=Object(k.a)(t,2),s=a[0],o=a[1],i=function(e){var t=e.contactTitle,a=e.contactValue;return Object(h.jsxs)("div",{children:[Object(h.jsx)("b",{children:Object(h.jsxs)("i",{children:[t,":"]})})," ",a]})},r=Object.keys(e.profile.contacts).map((function(t){return Object(h.jsx)(i,{contactTitle:t,contactValue:e.profile.contacts[t]},t)})),n=function(e){return Object(h.jsxs)("div",{className:d.a.aboutUser,children:[Object(h.jsxs)("div",{children:[Object(h.jsx)("b",{children:"about user:"})," ",e.profile.aboutMe]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("b",{children:"full name:"})," ",e.profile.fullName]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("b",{children:"skills:"})," ",e.profile.lookingForAJobDescription]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("b",{children:"looking for a job:"})," ",e.profile.lookingForAJob?"yes":"no"]}),Object(h.jsx)("p",{className:d.a.aboutUserContactsTitle,children:Object(h.jsx)("b",{children:"CONTACTS:"})}),r,e.isOwner&&Object(h.jsx)("button",{className:d.a.changeInfo,onClick:e.activateEditMode,children:"edit"})]})};return Object(h.jsxs)("div",{className:d.a.infoWrapper,children:[Object(h.jsxs)("div",{className:d.a.userAvaAndStatus,children:[Object(h.jsx)("div",{className:d.a.userAvaWrap,children:Object(h.jsx)("img",{className:d.a.userAva,src:e.profile.photos.large?e.profile.photos.large:y.a})}),e.isOwner&&Object(h.jsx)("div",{children:Object(h.jsxs)("label",{className:d.a.changePhoto,htmlFor:"inputFile",children:[Object(h.jsx)("span",{children:"change photo"}),Object(h.jsx)("input",{type:"file",onChange:function(t){t.target.files.length&&e.savePhoto(t.target.files[0])},id:"inputFile"})]})}),Object(h.jsx)(N,{status:e.status,updateStatus:e.updateStatus})]}),Object(h.jsx)("div",{className:d.a.userContacts,children:s?Object(h.jsx)(A,{profile:e.profile,saveProfile:e.saveProfile,deactivateEditMode:function(){o(!1)}}):Object(h.jsx)(n,{profile:e.profile,isOwner:e.isOwner,activateEditMode:function(){o(!0)}})})]})},S=function(e){return e.profile?Object(h.jsxs)("div",{className:d.a.profile__content,children:[Object(h.jsx)(F,{profile:e.profile,isOwner:e.isOwner,savePhoto:e.savePhoto,status:e.status,updateStatus:e.updateStatus,saveProfile:e.saveProfile}),e.isOwner&&Object(h.jsx)(P,{store:e.store})]}):Object(h.jsx)(g.a,{})},T=a(8),C=a(26),D=function(e){Object(r.a)(a,e);var t=Object(n.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"renderProfile",value:function(){var e=this.props.match.params.userId;e||(e=this.props.authorizedUserId)||this.props.history.push("/login"),this.props.getUserAccountById(e),this.props.getStatus(e)}},{key:"componentDidMount",value:function(){this.renderProfile()}},{key:"componentDidUpdate",value:function(e,t,a){this.props.match.params.userId!=e.match.params.userId&&this.renderProfile()}},{key:"render",value:function(){return Object(h.jsx)(S,Object(s.a)(Object(s.a)({},this.props),{},{profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus,isOwner:!this.props.match.params.userId,savePhoto:this.props.savePhoto,saveProfile:this.props.saveProfile}))}}]),a}(c.PureComponent);t.default=Object(C.d)(Object(v.b)((function(e){return{profile:e.profilePage.profile,status:e.profilePage.status,authorizedUserId:e.auth.userId,isAuth:e.auth.isAuth}}),{getUserAccountById:x.e,getStatus:x.d,updateStatus:x.h,savePhoto:x.f,saveProfile:x.g}),T.withRouter)(D)}}]);
//# sourceMappingURL=3.fa58ddb3.chunk.js.map