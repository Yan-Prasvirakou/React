(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[4],{253:function(e,t,a){e.exports={commonWrap:"Dialogs_commonWrap__2vYTk",dialogsWrap:"Dialogs_dialogsWrap__BSdra",dialogs:"Dialogs_dialogs__1I3Ut",dialog:"Dialogs_dialog__2ahLy",active:"Dialogs_active__3xG4Q",dialog__img:"Dialogs_dialog__img__x1-Fj",messagesWrap:"Dialogs_messagesWrap__2VqBb",writeMsg:"Dialogs_writeMsg__KqPRz",writeMsgText:"Dialogs_writeMsgText__2eYY2",writeMsgBtn:"Dialogs_writeMsgBtn__sFsG3",messages:"Dialogs_messages__3rDHn",outgoing:"Dialogs_outgoing__1p9tq",incoming:"Dialogs_incoming__VBKpg",noDlg:"Dialogs_noDlg__25ZAv"}},256:function(e,t,a){"use strict";a.r(t);var s=a(0),n=a.n(s),i=a(56),r=a(253),c=a.n(r),o=a(11),l=a(8),g=a(78),u=a(1),d=function(e){var t=e.dialogsPage,a=e.currentDialog,s=function(t){var a=t.target.textContent;e.setCurDlg(a)},i=function(e){var t="/dialogs/".concat(e.id);return Object(u.jsx)("li",{className:c.a.dialog,children:Object(u.jsxs)(o.b,{to:t,activeClassName:c.a.active,onClick:s,children:[Object(u.jsx)("img",{src:e.ava,className:c.a.dialog__img}),e.name]})})},r=t.map((function(e){return Object(u.jsx)(i,{name:e.name,id:e.id,ava:e.ava})})),d=function(e){var t=e.style?c.a.outgoing:c.a.incoming;return Object(u.jsx)("div",{className:t,children:e.msgs})},m=t.filter((function(e){return e.name==a})).map((function(e){return e.msgs.map((function(e){return Object(u.jsx)(d,{msgs:e.text,style:e.out})}))})),j=function(){return Object(u.jsx)("div",{className:c.a.messages,children:m})},_=function(){return Object(u.jsx)("div",{className:c.a.messages,children:Object(u.jsx)("div",{className:c.a.noDlg,children:Object(u.jsx)("p",{children:"\u0414\u0438\u0430\u043b\u043e\u0433 \u043d\u0435 \u0432\u044b\u0431\u0440\u0430\u043d"})})})},b=function(e){var t="/dialogs/".concat(e.path);return Object(u.jsx)(l.Route,{path:t,render:function(){return e.component}})},p=a?t.map((function(e){return Object(u.jsx)(b,{path:e.id,component:Object(u.jsx)(j,{})})})):Object(u.jsx)(_,{}),x=n.a.createRef(),h=function(){var t=x.current.value;a&&e.sendMsg(t),x.current.value=""},O=function(e){return Object(u.jsx)(g.a,{initialValues:{msgText:""},children:function(e){var t=e.values,a=(e.errors,e.touched,e.handleChange),s=e.handleBlur,n=e.handleSubmit,i=e.isSubmitting;return Object(u.jsxs)("form",{className:c.a.writeMsg,onSubmit:n,children:[Object(u.jsx)("textarea",{name:"msgText",id:"msgText",placeholder:"write message text",onChange:a,onBlur:s,value:t.msgText,className:c.a.writeMsgText,ref:x}),Object(u.jsx)("button",{type:"submit",className:c.a.writeMsgBtn,disabled:i||'""'==JSON.stringify(t.msgText),onClick:h,children:"Send"})]})}})};return Object(u.jsxs)("div",{className:c.a.commonWrap,children:[Object(u.jsx)("div",{className:c.a.dialogsWrap,children:Object(u.jsx)("ul",{className:c.a.dialogs,children:r})}),Object(u.jsxs)("div",{className:c.a.messagesWrap,children:[p,Object(u.jsx)(O,{})]})]})},m=a(24),j=a(2),_=a(3),b=a(4),p=a(9),x=a(10),h=function(e){return{isAuth:e.auth.isAuth}},O=a(25);t.default=Object(O.d)(Object(m.b)((function(e){return{dialogsPage:e.dialogsPage.dialogs,currentDialog:e.dialogsPage.currentDialog}}),(function(e){return{sendMsg:function(t){e(Object(i.c)(t))},setCurDlg:function(t){e(Object(i.d)(t))}}})),(function(e){var t=function(t){Object(p.a)(s,t);var a=Object(x.a)(s);function s(){return Object(_.a)(this,s),a.apply(this,arguments)}return Object(b.a)(s,[{key:"render",value:function(){return this.props.isAuth?Object(u.jsx)(e,Object(j.a)({},this.props)):Object(u.jsx)(l.Redirect,{to:"/login"})}}]),s}(n.a.Component);return Object(m.b)(h)(t)}))(d)}}]);
//# sourceMappingURL=4.d4882c04.chunk.js.map